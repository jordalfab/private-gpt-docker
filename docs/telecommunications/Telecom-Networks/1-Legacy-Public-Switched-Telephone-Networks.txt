Legacy Public Switched Telephone Networks

Introduction to Public Switched Telephone Network (PSTN)
The history of telecommunications began with the advent of the fixed telephony network, also known as the Public Switched Telephone Network (PSTN). This network consists of fixed telephones, which are used by subscribers.
Each fixed telephone is connected to a local exchange, also called a Central Office, via a pair of copper wires. These local exchanges are interconnected, forming the PSTN.
When a subscriber wants to make a voice call to another telephone, the PSTN establishes a dedicated path, known as a voice circuit or voice channel, between the two telephones. This dedicated circuit allows for bidirectional voice communication.
Because a dedicated circuit is established for each voice call, these networks are referred to as circuit-switched networks.

Evolution of PSTN
The evolution of the Public Switched Telephone Network (PSTN) began with Alexander Graham Bell’s invention of the telephone in 1876. Shortly after, in 1878, the first telephone exchange was established in Connecticut, USA. These early exchanges relied on human operators using manual switchboards to connect different telephones and establish voice calls.
In 1915, the crossbar switch, an electromagnetic switch, was invented. During this period, rotary dial telephones were commonly used. Users would dial the number of the person they wanted to call using the rotary dial, generating pulses that the crossbar switch used to automatically connect the calling telephone to the called telephone.
By 1960, rotary dials were replaced by tone pad dialing. Each digit on the tone pad represented a unique frequency, and the telephone exchange used these frequencies to connect the calling telephone to the called telephone.
In 1968, electronic switches known as stored program controlled (SPC) switches were introduced. These switches used computer software to connect calls, and they were used in both analog and digital exchanges. In analog exchanges, voice communication between the calling and called telephones was analog. In digital exchanges, the voice was digitized within the exchange. The first digital exchange was established in London, UK, in 1972.

PSTN Exchanges Hierarchy
The PSTN exchanges follow a specific hierarchy:

Local Exchanges:
At the bottom of the hierarchy are the local exchanges, to which subscribers are connected. A city can have many local exchanges.
Tandem Exchanges: Local exchanges are interconnected through tandem exchanges. These tandem exchanges also connect local exchanges to transit exchanges.
Transit Exchanges: Transit exchanges connect the exchanges of one city to those of another city. All voice calls from the exchanges in City A pass through the transit exchange to reach City B.
International Gateway Exchanges: At the top of the hierarchy are the International Gateway Exchanges. These exchanges route voice calls from any exchange in one country to another country by connecting to the International Gateway Exchange of the destination country.

Block Diagram of a Local Exchange/Central Office
Telephone Connection: The telephone is connected to the line card in the exchange using a pair of copper wires. The line card serves as the interface between the exchange and the telephone.
Switching Fabric: If one telephone calls another within the same exchange, the connection is established through the switching fabric.
Trunk Lines: The exchange is also connected to other exchanges via trunk lines, which terminate on the trunk card in the exchange. If a telephone calls another telephone in a different exchange (e.g., Exchange 2), the switching fabric connects the call to a trunk line leading to Exchange 2.
Signaling: To establish and maintain a call, signaling is required. There is signaling between the telephone and the exchange, as well as between exchanges. This signaling is managed by the signaling and control part of the exchange, which also oversees the overall control of the entire exchange.

Local loop
The telephone is connected to the exchange through a pair of copper wires, known as the local loop.
On the telephone side, the connection to the copper wires is made via the distribution point, also called the junction box.
From the exchange side, a large cable containing many pairs of copper wires terminates at the distribution point. One of these pairs is used to connect the telephone.
On the exchange side, this pair of copper wires is connected to the exchange through the main distribution frame (MDF). 
The advantage of this arrangement is its flexibility. For example, if a pair of copper wires becomes faulty, the telephone can easily be connected to another pair of wires in the cable. On the exchange side, the new pair can be patched to the MDF board, ensuring the connection to the exchange is maintained.
This setup allows for easy reconfiguration and maintenance, ensuring reliable service even if some wires become faulty.

Signaling in Local loop: Off-hook and On-hook State
To understand the signaling between the telephone and the exchange, we need to understand the states of the telephone.
When the handset of the telephone is placed on the cradle, the telephone is in the on-hook state. The telephone is connected to the exchange using a pair of copper wires: the ring wire and the tip wire. The ring wire is connected to a -48 volt DC power supply in the exchange, while the tip wire is grounded.
In the on-hook state, a switch between these two wires is open. When the user lifts the handset, the switch closes, putting the telephone in the off-hook state. The user then hears a dial tone, and the exchange detects this change using a detector, recognizing that the handset has been lifted.
After lifting the handset, the user dials a number. The exchange detects the dialed number using the same detector and then connects the calling telephone to the dialed or called telephone.

Signaling in Local loop: Incoming Call (Ring)
When the telephone is in the off-hook state and receives an incoming call, the exchange activates the ring generator to send a 90-volt AC current to the telephone. This current produces a ring tone.
Upon hearing the ring tone, the user lifts the handset, transitioning the telephone to the on-hook state and closing the switch. The exchange detects this closed switch as current begins to flow through the circuit. Consequently, the exchange connects the calling party to the called party.

Frecuency Hierararchy Division Multiplexing (FDM) in Analog Exchange
In analog exchanges, telephones are connected to an exchange in the local loop. There are a limited number of trunk lines between any two exchanges because these lines carry signals over long distances, making them expensive.
In this example, we consider analog exchanges where communication between telephones is in analog form. We have three telephones connected to Exchange 1, and these telephones want to communicate with three telephones connected to Exchange 2.
The voice signal from each telephone to Exchange 1 is in analog form with a center frequency of 0 Hz (the voice signal is transmitted in its natural form without any frequency translation) and a bandwidth of 4 kHz, which is standard for voice communication in telephony. When these signals reach Exchange 1, they are multiplexed onto a single trunk line using Frequency Division Multiplexing (FDM).
The center frequency of the first analog signal from Telephone 1 is changed to ( F_1 ).
The signal from Telephone 2 is changed to ( F_2 ).
The signal from Telephone 3 is changed to ( F_3 ).
When these signals reach Exchange 2, they are demultiplexed:
The first signal is changed from ( F_1 ) back to 0 Hz and sent to Telephone 1.
The second signal is changed from ( F_2 ) back to 0 Hz and sent to Telephone 2.
The third signal is changed from ( F_3 ) back to 0 Hz and sent to Telephone 3.
This process allows the communication of three telephones on a single trunk line using FDM. The same procedure is used for communication in the opposite direction.
FDM on analog trunk lines follows a standard hierarchy:
Channel: Communication of one telephone with a bandwidth of 4 kHz.
Group: 12 voice channels (telephones) are multiplexed to form a group with a bandwidth of 48 kHz.
Supergroup: 5 groups are multiplexed to form a supergroup with 60 voice channels and a bandwidth of 240 kHz.
Master Group: 10 supergroups are multiplexed to form a master group with 600 voice channels and a bandwidth of 2.52 MHz.
Jumbo Group: 6 master groups are multiplexed to form a jumbo group with 3600 voice channels and a bandwidth of 16.98 MHz.

Digital Exchanges: Analog to Digital Conversion
Analog voice signals are converted to digital using Pulse Code Modulation (PCM):
Sampling: The analog voice signal is measured at regular intervals to create samples.
Quantization: Each sample is rounded to the nearest value from a set of predefined levels.
Encoding: The quantized values are converted into binary code (0s and 1s).
This process transforms the analog signal into a digital format, making it easier to transmit, store, and process while maintaining good quality.

Time Division Multiplexing in Digital Exchanges
Time Division Multiplexing (TDM) is a method used to transmit multiple signals over a single communication channel by dividing the time frame into several slots, each dedicated to a different signal. Here’s a breakdown of how TDM works in digital exchanges, particularly focusing on the E1 and T1 standards:
Example Scenario
Exchanges: Two digital exchanges (Exchange 1 and Exchange 2) are connected by a trunk line.
Telephones: 32 telephones, each with a voice channel.
Process
1. Voice Channel Digitization:
Each voice channel has a bandwidth of 4 kHz.
Digitized using Pulse Code Modulation (PCM).
Sampled at 8000 samples per second.
Each sample is 8 bits.
Data rate per voice channel: 64 kbps.
2. Multiplexing:
32 voice channels are digitized.
Using TDM, each voice channel is assigned a specific time slot within a frame.
Time Slots:
Slot 1: Voice channel of Telephone 1.
Slot 2: Voice channel of Telephone 2.
…
Slot 32: Voice channel of Telephone 32.
3. E1 Frame:
A frame consists of 32 time slots.
Total data rate: 2.048 Mbps.
E1 is the standard used in Europe.
Comparison with T1 Standard
T1 Standard:
Used in the United States and Japan.
24 voice channels are multiplexed.
Total data rate: 1.536.
Summary
E1 Standard: 32 channels, 2.048 Mbps, used in Europe.
T1 Standard: 24 channels, 1.536 Mbps, used in the US and Japan.
This method ensures efficient use of the communication channel by allowing multiple voice channels to share the same physical medium

Plesiochronous Digital Hierarchy (PDH)
E1 and T1 lines are further multiplexed using a standard called the Plesiochronous Digital Hierarchy (PDH). To understand this, let’s consider the multiplexing of E1 lines using this standard.
Multiplexing Process
1. Exchange Setup:
Exchange 1: Produces E1 lines with a data rate of 2 Mbps.
Exchange 2: Receives the multiplexed data.
2. Multiplexing at Exchange 1:
E1 to E2: Four E1 lines are multiplexed to generate an E2 line with a data rate of 8 Mbps.
E2 to E3: Four E2 lines are multiplexed to generate an E3 line with a data rate of 34 Mbps.
E3 to E4: Four E3 lines are multiplexed to generate an E4 line with a data rate of 140 Mbps.
E4 to E5: Four E4 lines are multiplexed to generate an E5 line with a data rate of 565 Mbps.
3. Transmission:
The E5 data rate is transmitted over a trunk line using fiber optics or a microwave link.
Demultiplexing at Exchange 2:
E5 to E4: The 565 Mbps data rate is demultiplexed to generate four E4 lines.
E4 to E3: Each E4 line is demultiplexed into E3 lines.
E3 to E2: Each E3 line is demultiplexed into E2 lines.
E2 to E1: Each E2 line is demultiplexed into E1 lines, which are then provided to Exchange 2.
T1 Multiplexing
T1 to T2: Four T1 lines are multiplexed to generate a T2 line with a data rate of 6 Mbps.
T2 to T3: Seven T2 lines are multiplexed to generate a T3 line with a data rate of 44 Mbps.
T3 to T4: Six T3 lines are multiplexed to generate a T4 line with a data rate of 274 Mbps.
Japanese Standard
T2 to J3: Five T2 lines are multiplexed to generate a J3 line.
J3 to J4: Three J3 lines are multiplexed to generate a J4 line with a data rate of 98 Mbps.
J4 to J5: Four J4 lines are multiplexed to generate a J5 line with a data rate of 397 Mbps.

Signaling in PSTN Networks
There are two main types of signaling in the Public Switched Telephone Network (PSTN):
1. Channel Associated Signaling (In-band Signaling)
Definition: This type of signaling occurs on the local loop between the telephone and the central office.
Mechanism: The signaling is carried on the same channel as the voice communication.
Examples:
Off-hook signaling
On-hook signaling
Dialing a number
2. Common Channel Signaling (Out-of-band Signaling)
Definition: This type of signaling is used on trunk lines between different digital exchanges.
Mechanism: The signaling is carried in a separate channel from the voice communication, specifically in the 16th timeslot of the E1 frame. The other timeslots are used for voice communication.
Type Used in PSTN: Signaling System No. 7 (SS7)
History: Developed in 1975.
Functions:
- Setting up, maintaining, and tearing down voice calls.
- Routing calls between different exchanges.
SS7 signaling is an integral part of the PSTN network, ensuring efficient and reliable call management and routing.

Signaling Points (SPs)
In an SS7 network, each node is referred to as a signaling point (SP). Each signaling point has a unique address known as a point code. These signaling points can read SS7 messages and the point codes within those messages. Using their routing tables, signaling points select the appropriate path for each SS7 message.
There are three types of signaling points:
Signal Switching Point (SSP): Responsible for originating, terminating, or switching calls.
Signal Transfer Point (STP): Acts as a router, transferring SS7 messages between signaling points.
Service Control Point (SCP): Provides database services, such as number translation and routing information.

Service Switching Point (SSP)
Service Switching Points (SSPs) are implemented in local and tandem exchanges, which are the exchanges connected to telephone subscribers. When a subscriber dials a number, the SSP converts the dialed number into an SS7 message. The SSP is responsible for setting up and managing the voice circuit required for the call.
Functions of SSP:
1. Dialed Number Conversion: Converts the dialed number into an SS7 message.
2. Voice Circuit Management: 
- Setup: Establishes the voice circuit using its routing table.
- Maintenance: Manages the voice circuit during the call.
- Release: Releases the voice circuit once the call is complete.
By performing these functions, the SSP ensures efficient call setup, management, and termination.

Signal Transfer Point (STP)
You can think of an STP as a router or gateway in the SS7 network. No SS7 message originates from an STP. Instead, the STP switches SS7 messages between different nodes. Additionally, the STP provides measurements about the traffic and usage of the PSTN network.
Functions of STP:
1. Message Routing: Switches SS7 messages between various nodes in the network.
2. Traffic Measurement: Provides data on traffic and network usage.
By performing these functions, the STP ensures efficient message routing and network management.
about the traffic and the usage of the PSTN network.

Service Control Point (SCP)
The Service Control Point (SCP) is an interface for the creation and execution of value-added services in a telecommunications network.
Value-added services include:
Call forwarding
Automated voicemail
Call waiting
Conference calling
Caller ID
Toll-free numbers
Toll 900 numbers
These services were not originally part of the PSTN network but are provided through intelligent networks that work in conjunction with PSTN. The SCP interfaces with these intelligent networks to create and execute these services.
Components and Functions
1. Service Data Point (SDP):
Database: Stores information such as user credit and service eligibility.
Example: The SCP checks the SDP to verify if a user has sufficient credit to make a call or if a subscriber is eligible for a particular service.
2. Intelligent Peripheral (IP):
Voice Messages: Stores and plays voice messages.
Example: Plays messages like “Your call is being forwarded.” The SCP instructs the IP to play these messages when required.
By interfacing with the SDP and IP, the SCP ensures the efficient delivery of value-added services, enhancing the overall functionality of the telecommunications network.

